import{_ as t,r as p,o as e,c as l,a as c,b as n,d as o,e as i,f as a}from"./app-GYMnAgnr.js";const u="/viteblog/assets/576-IBHfYByM.png",d="/viteblog/assets/575-6SaxYAyC.png",r="/viteblog/assets/511-ABcsPvIe.png",g="/viteblog/assets/image-20210805154428870-79VBZiDq.png",k="/viteblog/assets/510-UhvSNzou.png",v="/viteblog/assets/image-20210805123427449-sppiIbRP.png",m="/viteblog/assets/image-20210805124018028-awTp7GKP.png",h="/viteblog/assets/image-20210805124805979--pZDTENB.png",b="/viteblog/assets/image-20210805125240781-wGMSAiHR.png",x={},f=a('<h2 id="分模块开发与设计" tabindex="-1"><a class="header-anchor" href="#分模块开发与设计" aria-hidden="true">#</a> 分模块开发与设计</h2><h3 id="分模块开发的意义" tabindex="-1"><a class="header-anchor" href="#分模块开发的意义" aria-hidden="true">#</a> 分模块开发的意义</h3><p>现在一般稍大一点的项目，都是采用多模块管理，如果引入了领域概念，一般分层还有领域层。</p><p>所谓分模块开发，就是将原始模块按照功能拆分成若干个子模块，方便模块间的相互调用、接口共享。</p><p><img src="'+u+'" alt=""></p><h3 id="模块拆分原则" tabindex="-1"><a class="header-anchor" href="#模块拆分原则" aria-hidden="true">#</a> 模块拆分原则</h3><p>分模块开发对工程的好处是，项目的扩展性变强了，方便其他项目引用相同的功能。</p><p><img src="'+d+'" alt="image-20210716092839618"></p><h3 id="分模块开发的步骤" tabindex="-1"><a class="header-anchor" href="#分模块开发的步骤" aria-hidden="true">#</a> 分模块开发的步骤</h3><h4 id="创建-maven-模块" tabindex="-1"><a class="header-anchor" href="#创建-maven-模块" aria-hidden="true">#</a> 创建 maven 模块</h4><p>那这样一个分模块的项目我们应该怎么设置 maven 包结构呢。例如：</p><img src="'+r+`" alt="图片" style="zoom:67%;"><h4 id="编写模块代码" tabindex="-1"><a class="header-anchor" href="#编写模块代码" aria-hidden="true">#</a> 编写模块代码</h4><p>分模块开发需要先针对模块功能进行设计，再进行编程，而不是先将工程开发完毕，然后进行拆分。</p><h4 id="通过-maven-指令安装模块到本地仓库-install-指令" tabindex="-1"><a class="header-anchor" href="#通过-maven-指令安装模块到本地仓库-install-指令" aria-hidden="true">#</a> 通过 maven 指令安装模块到本地仓库（install 指令）</h4><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>mvn install
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意：团队内部开发需要发布模块功能到团队内部可共享的仓库中（私服）</p><h2 id="聚合与继承" tabindex="-1"><a class="header-anchor" href="#聚合与继承" aria-hidden="true">#</a> 聚合与继承</h2><h3 id="聚合工程" tabindex="-1"><a class="header-anchor" href="#聚合工程" aria-hidden="true">#</a> 聚合工程</h3><p>将多个模块组织成一个整体，同时进行项目构建的过程称为 <strong>聚合</strong>。</p><p>而 <strong>聚合工程</strong>，通常是一个不具有业务功能的【空工程】（有且仅有一个 pom 文件）。</p><p>作用：</p><ul><li><p>使用聚合工程可以将多个工程编组，通过对聚合工程进行构建，实现对所包含的模块进行 <strong>同步构建</strong>。</p></li><li><p>当工程中某个模块发生更新（变更）时，必须保障工程中与已更新模块关联的模块 <strong>同步更新</strong>，此时可以使用聚合工程来解决批量模块同步构建的问题。</p></li></ul><p><img src="`+g+`" alt="image-20210805154428870"></p><h3 id="聚合工程开发的步骤" tabindex="-1"><a class="header-anchor" href="#聚合工程开发的步骤" aria-hidden="true">#</a> 聚合工程开发的步骤</h3><h4 id="创建父项目的-maven-模块-设置打包类型为-pom" tabindex="-1"><a class="header-anchor" href="#创建父项目的-maven-模块-设置打包类型为-pom" aria-hidden="true">#</a> 创建父项目的 Maven 模块，设置打包类型为 pom</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意：每个 maven 工程都有对应的打包方式，默认为 jar，web 工程打包方式为 war</p><h4 id="设置当前聚合工程所包含的子模块名称" tabindex="-1"><a class="header-anchor" href="#设置当前聚合工程所包含的子模块名称" aria-hidden="true">#</a> 设置当前聚合工程所包含的子模块名称</h4><p>首先我们会在父项目中定义这些这个项目包含的模块，形成 <strong>聚合工程</strong>：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>alpha-mall-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>alpha-mall-dao<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>alpha-mall-manager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>alpha-mall-service<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>alpha-mall-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>start<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意</strong>：</p><ul><li>聚合工程中所包含的模块在进行构建时会 <strong>根据模块间的依赖关系设置构建顺序</strong>，与聚合工程中模块的配置书写位置无关。</li><li>参与聚合的工程无法向上感知是否参与聚合，只能向下配置哪些模块参与本工程的聚合。</li></ul><p>接着是 dependencyManagement，这个在多模块项目里面非常重要，dependencyManagement 里的配置并不会实际引入，只是为了更好地进行版本管理。</p><p>整个项目用到的依赖包的版本都应该在父项目 pom 的 dependencyManagement 里来管理，这样版本不会乱，管理也集中。</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-boot.version</span><span class="token punctuation">&gt;</span></span>2.4.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-boot.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arthas-spring-boot.version</span><span class="token punctuation">&gt;</span></span>3.4.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arthas-spring-boot.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${spring-boot.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.taobao.arthas<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>arthas-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${arthas-spring-boot.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一般可以直接在 properties 里面把第三方包的版本定义好，比如 Spring boot 和 Spring cloud 的版本。</p><p><strong>另外大家注意到 <code>spring-boot-dependencies</code> 这个包我们 type 使用的是 pom，也就是我们不真实需要引入 <code>spring-boot-dependencies</code>。</strong></p><p>这个包里面包含的 jar 基本涵盖了 Spring 全家桶，以及 Spring 和其他匹配的第三方中间件，type 为 pom 的意思是我们只需要 maven 包里的版本信息。</p><p>这样做的好处是，比如我们引入一个第三方包，担心用的版本和 Spring 的版本不兼容，不用担心，Spring 早就替你想好了，当你引入 <code>spring-boot-dependencies</code> ，他里面基本涵盖了市面上常用的组件，相对应的版本也都给你定义好了：</p><img src="`+k+'" alt="图片" style="zoom:50%;"><h3 id="继承工程" tabindex="-1"><a class="header-anchor" href="#继承工程" aria-hidden="true">#</a> 继承工程</h3><p>继承描述的是两个工程间的关系，与 Java 中的继承相似，子工程可以继承父工程中的配置信息，常见于依赖关系的继承。</p><p>作用：</p><ul><li><p>简化配置：当多个模块依赖相同的模块的时候，使用继承可以方便管理。</p></li><li><p>减少版本冲突：当想对项目中某个相同的依赖进行版本更替，使用继承可以一劳永逸。</p></li></ul><p><img src="'+v+`" alt="image-20210805123427449"></p><h3 id="聚合工程开发的步骤-1" tabindex="-1"><a class="header-anchor" href="#聚合工程开发的步骤-1" aria-hidden="true">#</a> 聚合工程开发的步骤</h3><h4 id="创建父项目的-maven-模块-设置打包类型为-pom-1" tabindex="-1"><a class="header-anchor" href="#创建父项目的-maven-模块-设置打包类型为-pom-1" aria-hidden="true">#</a> 创建父项目的 Maven 模块，设置打包类型为 pom</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意：每个 maven 工程都有对应的打包方式，默认为 jar，web 工程打包方式为 war</p><h4 id="在父工程的-pom-文件中配置依赖关系-子工程将沿用父工程中的这部分依赖关系" tabindex="-1"><a class="header-anchor" href="#在父工程的-pom-文件中配置依赖关系-子工程将沿用父工程中的这部分依赖关系" aria-hidden="true">#</a> 在父工程的 pom 文件中配置依赖关系（子工程将沿用父工程中的这部分依赖关系）</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.10.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    ……
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="配置子工程中可选的依赖关系" tabindex="-1"><a class="header-anchor" href="#配置子工程中可选的依赖关系" aria-hidden="true">#</a> 配置子工程中可选的依赖关系</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.16<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="在子工程中配置当前工程所继承的父工程-子工程将沿用父工程中的不可选的那部分依赖关系" tabindex="-1"><a class="header-anchor" href="#在子工程中配置当前工程所继承的父工程-子工程将沿用父工程中的不可选的那部分依赖关系" aria-hidden="true">#</a> 在子工程中配置当前工程所继承的父工程（子工程将沿用父工程中的不可选的那部分依赖关系）</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--定义该工程的父工程--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.itheima<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven_parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--填写父工程的pom文件，根据实际情况填写--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">&gt;</span></span>../maven_parent/pom.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>relativePath</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="在子工程中配置使用父工程中可选依赖的坐标" tabindex="-1"><a class="header-anchor" href="#在子工程中配置使用父工程中可选依赖的坐标" aria-hidden="true">#</a> 在子工程中配置使用父工程中可选依赖的坐标</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：</p><ul><li>子工程中使用父工程中的可选依赖时，仅需要提供群组 id 和项目 id，无需提供版本，版本由父工程统一提供，可以避免版本冲突</li><li>子工程中还可以定义父工程中没有定义的依赖关系</li></ul><h3 id="聚合与继承的关系" tabindex="-1"><a class="header-anchor" href="#聚合与继承的关系" aria-hidden="true">#</a> 聚合与继承的关系</h3><p>作用：</p><ul><li>聚合用于快速构建项目</li><li>继承用于快速配置，消除 POM 中的重复配置</li></ul><p>相同点：</p><ul><li>聚合与继承的 pom.xml 文件打包方式均为 pom，可以将两种关系制作到同一个 pom 文件中</li><li>聚合与继承均属于设计型模块，并无实际的模块内容</li></ul><p>不同点：</p><ul><li>聚合是在当前模块中配置关系，聚合可以感知到参与聚合的模块有哪些</li><li>继承是在子模块中配置关系，父模块无法感知哪些子模块继承了自己</li></ul><h2 id="属性管理" tabindex="-1"><a class="header-anchor" href="#属性管理" aria-hidden="true">#</a> 属性管理</h2><p>在 Maven 中，对于有些依赖可能需要保证相同的版本，比如 Spring 相关依赖，那么我们就需要一个机制来保证这些依赖的版本都相同，且方便我们随时修改、不容易漏改或者出现其他错误。那么我们可以使用 Maven 中的属性，类似编程语言的全局变量。</p><p><img src="`+m+`" alt="image-20210805124018028"></p><h3 id="属性配置与使用" tabindex="-1"><a class="header-anchor" href="#属性配置与使用" aria-hidden="true">#</a> 属性配置与使用</h3><h4 id="定义属性" tabindex="-1"><a class="header-anchor" href="#定义属性" aria-hidden="true">#</a> 定义属性</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--定义自定义属性--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">&gt;</span></span>5.2.10.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>junit.version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>junit.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="引用属性" tabindex="-1"><a class="header-anchor" href="#引用属性" aria-hidden="true">#</a> 引用属性</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="资源文件引用-maven-属性" tabindex="-1"><a class="header-anchor" href="#资源文件引用-maven-属性" aria-hidden="true">#</a> 资源文件引用 maven 属性</h3><h4 id="定义属性-1" tabindex="-1"><a class="header-anchor" href="#定义属性-1" aria-hidden="true">#</a> 定义属性</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--定义自定义属性--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">&gt;</span></span>5.2.10.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>junit.version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>junit.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbc.url</span><span class="token punctuation">&gt;</span></span>jdbc:mysql://127.0.0.1:3306/ssm_db<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbc.url</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="配置文件中引用-maven-属性" tabindex="-1"><a class="header-anchor" href="#配置文件中引用-maven-属性" aria-hidden="true">#</a> 配置文件中引用 maven 属性</h4><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">jdbc.driver</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">jdbc.url</span><span class="token punctuation">=</span><span class="token value attr-value">\${jdbc.url}</span>
<span class="token key attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">jdbc.password</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="开启资源文件目录加载-maven-属性的过滤器" tabindex="-1"><a class="header-anchor" href="#开启资源文件目录加载-maven-属性的过滤器" aria-hidden="true">#</a> 开启资源文件目录加载 maven 属性的过滤器</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>\${project.basedir}/src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="配置-maven-打-war-包时-忽略-web-xml-检查" tabindex="-1"><a class="header-anchor" href="#配置-maven-打-war-包时-忽略-web-xml-检查" aria-hidden="true">#</a> 配置 maven 打 war 包时，忽略 web.xml 检查</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-war-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.2.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>failOnMissingWebXml</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>failOnMissingWebXml</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="其他属性-了解" tabindex="-1"><a class="header-anchor" href="#其他属性-了解" aria-hidden="true">#</a> 其他属性（了解）</h3><table><thead><tr><th>属性分类</th><th>引用格式</th><th>示例</th></tr></thead><tbody><tr><td>自定义属性</td><td>\${自定义属性名}</td><td>\${spring.version}</td></tr><tr><td>内置属性</td><td>\${内置属性名}</td><td>\${basedir} \${version}</td></tr><tr><td>Setting属性</td><td>\${setting.属性名}</td><td>\${settings.localRepository}</td></tr><tr><td>Java系统属性</td><td>\${系统属性分类.系统属性名}</td><td>\${user.home}</td></tr><tr><td>环境变量属性</td><td>\${env.环境变量属性名}</td><td>\${env.JAVA_HOME}</td></tr></tbody></table><h2 id="多环境配置与应用" tabindex="-1"><a class="header-anchor" href="#多环境配置与应用" aria-hidden="true">#</a> 多环境配置与应用</h2><p>日常开发过程中，不同的环境下，Maven 的配置可能会不一样，如果每次切换环境都要手动修改文件内容再打包部署，显然非常麻烦。</p><p>因此，Maven 提供了配置多种环境的功能，帮助开发者在使用过程中可以快速切换环境。</p><p><img src="`+h+`" alt="image-20210805124805979"></p><h3 id="多环境配置的步骤" tabindex="-1"><a class="header-anchor" href="#多环境配置的步骤" aria-hidden="true">#</a> 多环境配置的步骤</h3><h4 id="定义多环境" tabindex="-1"><a class="header-anchor" href="#定义多环境" aria-hidden="true">#</a> 定义多环境</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--定义多环境--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--定义具体的环境：生产环境--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--定义环境对应的唯一名称--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>env_dep<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--定义环境中专用的属性值--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbc.url</span><span class="token punctuation">&gt;</span></span>jdbc:mysql://127.0.0.1:3306/ssm_db<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbc.url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--设置是否为默认启动的环境--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--定义具体的环境：开发环境--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>env_pro<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        ……
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="使用多环境-构建过程" tabindex="-1"><a class="header-anchor" href="#使用多环境-构建过程" aria-hidden="true">#</a> 使用多环境（构建过程）</h4><p>命令：</p><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>mvn 指令 –P 环境id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>范例:</p><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>mvn install –P pro_env
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="跳过测试-了解" tabindex="-1"><a class="header-anchor" href="#跳过测试-了解" aria-hidden="true">#</a> 跳过测试（了解）</h2><h4 id="应用场景" tabindex="-1"><a class="header-anchor" href="#应用场景" aria-hidden="true">#</a> 应用场景</h4><ul><li>功能更新中，并且没有开发完毕</li><li>快速打包，不想浪费时间来测试</li><li>……</li></ul><h4 id="跳过测试命令" tabindex="-1"><a class="header-anchor" href="#跳过测试命令" aria-hidden="true">#</a> 跳过测试命令</h4><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>mvn install –D skipTests
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意：执行的项目构建指令必须包含测试生命周期，否则无效果。例如执行 compile 生命周期，不经过 test 生命周期。</p><h4 id="细粒度控制跳过测试" tabindex="-1"><a class="header-anchor" href="#细粒度控制跳过测试" aria-hidden="true">#</a> 细粒度控制跳过测试</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-surefire-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.22.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>skipTests</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>skipTests</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--设置跳过测试--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--包含指定的测试用例--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/User*Test.java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>excludes</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--排除指定的测试用例--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclude</span><span class="token punctuation">&gt;</span></span>**/User*TestCase.java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclude</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>excludes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="maven-私服" tabindex="-1"><a class="header-anchor" href="#maven-私服" aria-hidden="true">#</a> Maven 私服</h2><h3 id="概述与用途" tabindex="-1"><a class="header-anchor" href="#概述与用途" aria-hidden="true">#</a> 概述与用途</h3><p>Maven 私服是一种特殊的远程仓库，它是架设在局域网内的仓库服务，用来代理位于外部的远程仓库（中央仓库、其他远程公共仓库）。</p><p>建立了 Maven 私服后，当局域网内的用户需要某个构件时，会按照如下顺序进行请求和下载。</p><ol><li>请求本地仓库，若本地仓库不存在所需构件，则跳转到第 2 步；</li><li>请求 Maven 私服，将所需构件下载到本地仓库，若私服中不存在所需构件，则跳转到第 3 步。</li><li>请求外部的远程仓库，将所需构件下载并缓存到 Maven 私服，若外部远程仓库不存在所需构件，则 Maven 直接报错。</li></ol><p>此外，一些无法从外部仓库下载到的构件，也能从本地上传到私服供其他人使用。</p><p>下图中展示了 Maven 私服的用途：</p><p><img src="`+b+'" alt="image-20210805125240781"></p><h3 id="私服的优势" tabindex="-1"><a class="header-anchor" href="#私服的优势" aria-hidden="true">#</a> 私服的优势</h3><ol><li><p>节省外网带宽</p><p>大量对于外部远程仓库的重复请求，会消耗很大量的带宽，利用 Maven 私服代理外部仓库后，能够消除对外部仓库的大量重复请求，降低外网带宽压力。</p></li><li><p>下载速度更快</p><p>Maven 私服位于局域网内，从私服下载构建更快更稳定。</p></li><li><p>便于部署第三方构件</p><p>有些构件是无法从任何一个远程仓库中获得的（例如，某公司或组织内部的私有构件、Oracle 的 JDBC 驱动等），建立私服之后，就可以将这些构件部署到私服中，供内部 Maven 项目使用。</p></li><li><p>提高项目的稳定性，增强对项目的控制</p><p>如果不建立私服，那么 Maven 项目的构件就高度依赖外部的远程仓库，若外部网络不稳定，则项目的构建过程也会变得不稳定。 建立私服后，即使外部网络状况不佳甚至中断，只要私服中已经缓存了所需的构件，Maven 也能够正常运行。</p><p>此外，一些私服软件（如 Nexus）还提供了很多额外控制功能，例如，权限管理、RELEASE/SNAPSHOT 版本控制等，可以对仓库进行一些更加高级的控制。</p></li><li><p>降低中央仓库的负荷压力</p><p>由于私服会缓存中央仓库得构件，避免了很多对中央仓库的重复下载，降低了中央仓库的负荷。</p></li></ol><h3 id="私服搭建" tabindex="-1"><a class="header-anchor" href="#私服搭建" aria-hidden="true">#</a> 私服搭建</h3><p>能够帮助我们建立 Maven 私服的软件被称为 Maven 仓库管理器（Repository Manager），主要有以下 3 种：</p>',118),y=n("li",null,"Apache Archiva",-1),_=n("li",null,"JFrog Artifactory",-1),I={href:"https://help.sonatype.com/repomanager3/download",target:"_blank",rel:"noopener noreferrer"},M=a('<h3 id="私服仓库的分类" tabindex="-1"><a class="header-anchor" href="#私服仓库的分类" aria-hidden="true">#</a> 私服仓库的分类</h3><table><thead><tr><th>仓库类别</th><th>英文名称</th><th>功能</th><th>关联操作</th></tr></thead><tbody><tr><td>宿主仓库</td><td>hosted</td><td>保存自主研发+第三方资源</td><td>上传</td></tr><tr><td>代理仓库</td><td>proxy</td><td>代理连接中央仓库</td><td>下载</td></tr><tr><td>仓库组</td><td>group</td><td>为仓库编组简化下载操作</td><td>下载</td></tr></tbody></table>',2);function j(E,S){const s=p("ExternalLinkIcon");return e(),l("div",null,[c(" more "),f,n("ul",null,[y,_,n("li",null,[n("a",I,[o("Sonatype Nexus"),i(s)])])]),M])}const $=t(x,[["render",j],["__file","Mavendejinjieshiyong.html.vue"]]);export{$ as default};
