import{_ as n,o as a,c as s,a as t,f as p}from"./app-GYMnAgnr.js";const e="/viteblog/assets/515-8Rp8sWJ6.png",l="/viteblog/assets/572-juWJ65Hc.png",o="/viteblog/assets/574-Y09SDuv5.png",c="/viteblog/assets/514-4s24jdpa.png",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAc0AAABUCAYAAADgW2wiAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAB90RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgOLVo0ngAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDMvMDUvMjFd2l/bAAAO1ElEQVR4nO3de2xUdZ/H8fcZ2lLbpTRFBIRYUAzWgOASFRAQ5ZIgZFlK5BYDWgM/DQlq4rJ/rGRxnxhjjNBdRPk92S3QjeIGL+16gV0Kzy6KYFyiWGMCAgWhQENBKFvoUjtn/5i2T7l22k7nXObz+ms4cyZ8pvPJfGfOnIvjui5hY4wJ35MSEQkIa63jdYbuEvE6gIiISFBoaIqIiMQpzesA3S3MmwlERPwiVX4W0zdNERGROGloioiIxElDU0REJE4amiIiInHS0BQREYmThqaIiEicNDRFRETipKEpIiISJw1NERGROGloioiIxElDU0REJE4amiIiInHS0BQREYmThqaIiEicNDRFRETipKEpIiISJw1NERGROGloioiIxElDU0REJE4amiIiInHS0BQREYmThqaIiEicNDRFRETilOZ1ABERCRZjzEhgNlBsrT1/k3VygZeAP1lr/zuZ+bqTvmmKiEiHWGv3A4uBKmPMM9fe37ysClgcpoEJGpoiItI5q4BcYIMxpuqa+zY037cqyZm6nYamiIh0RhnQsml28A3uP9+8TqhoaIqISIdZay8AG2+xysbmdUJFQ1NERDqruJP3BZaGpoiIdIq19hg33gRb1nxf6GhoiohIV2yMc1koaGiKiEinWWvLgaNtFh1tXhZKGpoiItJVxTe5HTqO67pxr2yMmQw8B4wG7gRuw5+D12lzO/4n2L3+DzgF7AU2WWv/w+M8KStAPfYj9dgnfNjjlvddv7zn3kqne9zu0DTG5AOvAE8DOYDjOI5zywd5rO1z8ltU98/hzgHvAO9Za2s8jJQSgthjP1OPveHnHrdUwidx4tKZHt90aBpjsom9MK86jjOQ2IvDgAEDGDJkCAUFBQwePJisrKxA/ZG80NDQwOHDhzlw4ACHDx/m1KlTrS+W67rVwKvAZmvtFW+Tho96nDjqsXeC0ONz584BkJeX58n/H6+u9viGQ9MY0w/4J6DQcZwe2dnZzrhx45g0aRJZWVnd+HRSQ319PTt27GDPnj00NDS4rus2AZ8Ay/VpPXHU4+6lHieHety9Otrj64Zm89f//wTuTU9PZ/jw4c6TTz5J3759k/IEUklNTQ1lZWUcPHiQpqamKPADMM1ae9brbEGnHiePetx91OPkibfHVw1NY8wQYAvwl5FIxJk9ezYTJkxIavBU9NVXX/Hpp58SjUZd4E/AM9ba417nCir12BvqcWKpx95or8fX7mm1BngwKyuLRYsWMX78+GRmTVmPPvoos2bNIiMjA8dxJgF/8DpTwKnHHlCPE0499kB7PW4dmsaYIuDJSCQSmTlzpjNq1CjtGJEkkUiExx57jKlTpzqO40Qcx5lrjPlrr3MFkXrsHfU4cdRj77TX4wiAMaYX8J7jOOkjR47kkUce8SxwKps4cSL33nsvxI63es/jOIGjHvuDetw16rE/3KzHLd80/wbIcByHwsJCevTo4UFE6dmzJ3PnziUSiQD0M8a85nWmgFGPfUA97jL12Adu1uNI8/E/xnEc94knnqBXr16eBk11ffr0YcyYMTQfsLzMGJPhdaYgUI/9RT3uHPXYX27U4wgwHejTs2dPZ+LEiR5HFICpU6e2fLrJJXaKLGmfeuwz6nGnqMc+c22PI8Bsx3Eiffv2JScnx9t0AkBubi55eXk4jhMB5nudJyDUY59RjztFPfaZa3scAUYB3H333d4mk6vk5+e33NTHzfioxz6kHneYeuxDbXscAQYCjl4kfxk6dCjErhpwp8dRgkI99iH1uMPUYx9q2+MIzXtpDRw40NtUXVBbW0ttba3XMRJq0KBBLTe1jSY+ge9xGKnHHaYe+1DbHqcBGUBgt58fOHCABx98EIB9+/ZRUFDgcaLEaHNuSe11GJ/A9bixsZELFy5ctzwvL69lx4PAU487LHA9htiVQ6qqqqipiZ3fPC8vj3vuuYfs7GyPkyVG2x6n0Xz+2YyMYHa6vLycnJwc6urq+Oyzz0IzNHv27Ol1hKAJXI8PHTrE6NHX71Sak5ODMYYXX3zR95dZao963GGB6nFtbS0lJSWsXr2aurq66+4vLy9n6tSpHiRLrLY9TgPcoJ6eqaGhgXXr1jFt2jSqq6tZvXo1y5YtC82nG+mQwPb4vvvuY/782M6l9fX1fPzxx7z11lts27aNnTt3qs+pJTA9PnDgADNnzqS6uprRo0fz7LPPtu7AdOTIEcrKyjh7NnwXuknzOkBX7N27lzNnzjBv3jxqa2t54YUX+Oabb0LxyUbAGDPJWvtfXufobg8//DArVqxo/feKFStYsGABFRUV6nMIhLHHx44dY9q0aZw5c4ZNmzYxZ86cq35SmDRpEkVFRdTX13uYsnsEemh++OGHZGZmMn78eC5evAhASUmJ3mTC4zFjzAbgNaDMWnve60DJkJ2dzdy5c6moqAjlJ/UUFLoer1y5snVgPvXUUzddL4xbSQK7t0FNTQ2lpaUsXLiQ3r17M2jQIKZPn055eTnHjh3zOp4kRjGxs3BsAKqMMcXGmMHeRkqOM2fOADBs2DCPk0gChKrHhw4d4qOPPmLs2LHMmTPH6zhJF9ihuX37dgDmzZvXuqyoqAiAL774wpNMkljW2gvAS83/zAVeJPamUxbmS079+OOPvPnmm8yaNYuRI0d6HUe6KGw93rt3LwBLliwJzV7eHRHIzbPRaJS1a9eSk5PDQw891Lp8/PjxZGZmsmbNGpYsWUJ6erqHKSURrLWbjDGrgMFtFs8CZhljjgL/CGxMdq5E2rFjB88//zwAv/zyC3v27GHVqlUsW7YsJd+UwihMPf7555+B1gP+U04gh+ZPP/1EZWUlr776KpmZma3Le/fuzcKFCykpKeG7775j3LhxHqZMHGPMRSB8Pw7Er+EmywcTu7r93xPgrSbV1dWUlpZetWz16tXk5uayaNGiqzoeZOpxOHp87tw5IJy/V8YjkEOzvLwcgA0bNrB169ar7jt9+jQAH3zwQWiGpoTbokWLWL9+PRA74cGRI0dYs2YNL730EjU1NaxcudLjhCJ/lpYWGxsNDTf7DBBugRuaFy9eZN26dWRmZtK/f//r7u/fvz8XL16kpKSEVatWcfvtt3uQMrGstSl9UT1jTBVXb9ZqcZTYThYbgbNA4K/Wm56ezrBhwyguLmbHjh288cYbLF++nN69e3sdrcvU43D0uGXntKqqqtazsaWSwA3N3bt3U1dXx+uvv87LL798w3XeffddXnnlFbZt28bTTz+d5ISSSMaYxVz/RlMGbLTWlrdZL5mxul1mZiaTJ0+mtLSUkydPhmJoprIw9XjUqFEAvP/++xQWFnqcJvl8v/38Wps2bQK45bGYM2bMAGDt2rVEo9Gk5JLEM8bkEvsEDnC++fZga+3stm80YRSNRvn+++8B6NUrpb+gBV7YejxmzBgGDhzI1q1bW49iSCWBGponTpygvLycESNGcP/99990vfz8fKZPn05lZSX79+9PYsLE0bAHYrvmnweeIfYm87K1NvQH4TY2NrJ+/XoqKyuZMmVK2yssBI56DISsx+np6ZSUlACxQ/62bdt2w9e5vr4+NMfMt31+rZtnm5qa6NHD15vS+fLLLwF47rnn2t0Vv6ioiK1bt1JWVhbI7e5tTj/V5GUOj5VZa1/ryAOC0ONrtT3kpLGxkV27dlFdXc3AgQMpLi5u59H+ph4DIezxhAkTKCkpoaioiMLCQkaPHk1hYSEDBgzg0qVLVFZWsnnzZoqLi9tewDmw2vY4Dfgd6HH+/Hn69OnjXao4LF26lKVLl8a17owZM7h06VI3J+o+v/32W8vNRi9zeMla25HNBIHp8bWuPeRkxIgRLF++nAULFgR+Rzb1OLw9nj9/PsOHD+edd96htLSUffv2td6XmZnJ4sWLGTt2rIcJE6dtj9OA/wUyfv31V8fvL1IqOXnyZMvN66+3IzcSuB4XFBQE+oNdPNTjDgtUj4cPH8769et5++23OXXqFI2NjWRlZdGvX7/QHF8MV/c4AlRD7FIu4h8HDx4EcIntji7tU499SD3usED2ODs7m6FDh1JQUEB+fn6oBiZc3eMIsN91Xff48ePeppKrVFdXt9zc7WWOAFGPfUg97jD12Ifa9jgCbHFdN3r69GkuXLjgYSxpcfbsWWpra3FdNwp86HWegFCPfUY97hT12Geu7XEE2AWcuXLlirt7tz4M+kFFRQXRaNQFfrXW/o/XeQJCPfYZ9bhT1GOfubbHkebL1vxrNBp1v/7669br+Ik3jh492nJsqQv8i8dxAkM99hf1uHPUY3+5UY9bDnZ8B6i+fPkymzdv5sqVKx5FlE8++YTLly+7ruvuB/7Z6zwBox77hHrcJeqxT9yoxxEAa+1x4G9d122qqqpKyVMjea2pqYnPP/+c48eP47puE/AP1toar3MFiXrsPfW469Rj792qx21Pq7MF+DfXdd1du3a5P/zwgydhU9WePXvYuXNny4/NpcCXXmcKKPXYQ+pxwqjHHrpVjx3XdVtXNMb0Acocx3k0LS2NKVOmOI8//jgZGRnJT50i6uvr2b59O7t373Z///13XNfdYa29+dnopV3qcfKpx4mnHidfPD2+amgCGGPuA0qARxzHieTn5zN37lzuvPPOJEZPDSdOnGDLli0cP36caOyMwF8DC6y1J9t7rNyaepw86nH3UY+TJ94eXzc0AYwxWcR+jF7kOE6P2267jQceeIDJkyfTt2/fpDyBMDt79iwVFRV8++23RKNRHMe55Lrue8AfmveekwRQj7uXepwc6nH36miPbzg0AYwxacDTwN85jnO34zhOjx49nNzcXO666y4GDx7MkCFDuOOOO7S54BauXLnCuXPnOHLkCIcPH+bYsWPU1dXR2NjourE//mlgkbV2h9dZw0g9Tgz12FvqcWIkosc3HZotjDH9gCXEXrB7HMeJOI7jtDw+Qc8lFbgAruu27I11EvgjUGytrb/lI6XL1OOEUY89pB4nTKd73O7QbGGMyQRGAn8FPA7cBfwFkI1erPZcIXaVh6PATuDfgR+stQ1ehkpF6nGXqMc+oR53SZd6/P9n0MJWdt9tHwAAAABJRU5ErkJggg==",u="/viteblog/assets/573-9PsthfXS.png",d="/viteblog/assets/512-Le6qizE7.png",r={},g=p('<h2 id="什么是-maven" tabindex="-1"><a class="header-anchor" href="#什么是-maven" aria-hidden="true">#</a> 什么是 Maven</h2><p>Apache Maven是一个软件 <strong>项目管理的综合工具</strong>。基于<strong>项目对象模型（POM）<strong>的概念，提供了帮助管理</strong>构建、文档、报告、依赖、发布等方法</strong>，Maven简化了、标准化了项目的建设过程。负责处理编译，分配，文档，团队协作和其他任务的无缝连接。 Maven增加了代码的可重用性并负责建立相关的任务。</p><p>举个例子，在一般的电商项目中，代码分为订单、商品、商家、用户和营销模块，订单模块需要用到用户模块的代码，比如查询用户信息的接口，那是不是需要用户模块的同学把代码拷贝一份给订单模块呢？</p><p>可以，但这么做会有很多问题，首先是用户模块同学写的代码可能有bug，需要修复，另外模块的功能一直在迭代，比如原来接口里面只有按照 userId 查询，现在增加了姓名查询、手机号查询，<strong>每次写完都需要重新拷贝一份代码，这样效率很低</strong>。</p><p>聪明的工程师们想到了一个方法，把这些代码集中存储管理，用 <strong>包+版本</strong> 的方式，这个集中存储的地方叫 <strong>仓库</strong>，大家都以仓库为准，代码的变更通过版本号来维护，为了防止每个小改动都需要修改版本，也是把线下用的测试版本和线上生产环境的区分开，分为 Snapshot 包和 Release 包。</p><p>Maven 的好处：</p><ul><li>Maven 可以将项目过程 <strong>规范化、自动化、高效化</strong> 以及拥有强大的 <strong>可扩展性</strong>，利用 maven 自身及其插件还可以获得代码检查报告、单元测试覆盖率、实现持续集成等等。</li><li>Maven 使得项目的管理变得容易，<strong>构建项目的速度更快</strong>，由于 Maven 提供了仓库的概念去管理 jar 包，所以用 git 或者 svn 的时候，存储构建的项目体积会更小。</li></ul><h2 id="maven-的基本原理" tabindex="-1"><a class="header-anchor" href="#maven-的基本原理" aria-hidden="true">#</a> Maven 的基本原理</h2><p>在 Maven 中，很重要的一个概念是仓库（Repository），Maven 仓库分为 <strong>本地仓库</strong> 和 <strong>远程仓库</strong>。</p><p>采用 <strong>远程仓库</strong> 和 <strong>本地仓库</strong> 以及一个核心的配置文件 <strong>pom.xml</strong>，pom.xml 中定义的 jar 文件从远程仓库下载到本地仓库，各个项目使用同一个本地仓库的 jar，同一个版本的 jar 只需下载一次，而且避免每个应用都去拷贝 jar。同时它采用了现在流行的插件体系架构，所以maven的核心非常的小，只有几兆大小的文件，在执行maven任务时，才会自动下载需要的插件。</p><img src="'+e+'" style="zoom:80%;"><h2 id="远程仓库" tabindex="-1"><a class="header-anchor" href="#远程仓库" aria-hidden="true">#</a> 远程仓库</h2><p>远程仓库又包括 <strong>私服</strong> 和 <strong>中央仓库</strong>。私服很好理解，很多公司自己会在局域网内搭建一个自己公司私有的仓库地址。</p><p>这里有个概念要区分一下，很多人会把私服和镜像（mirror）弄混，镜像（mirror）是中央仓库的复制品，因为中央仓库在国外，你访问中央仓库的速度很慢，而镜像的服务器在国内，相当于弄了个缓存。</p><img src="'+l+'" alt="图片" style="zoom:33%;"><p>私服仓库分为哪几种？</p><p><img src="'+o+'" alt="image-20210805125522304"></p><p>Nexus 是 Sonatype 公司的一款 maven 私服产品，同时可以配置用户身份认证、上传和下载控制的功能。</p><h2 id="setting-xml-配置文件解读" tabindex="-1"><a class="header-anchor" href="#setting-xml-配置文件解读" aria-hidden="true">#</a> setting.xml 配置文件解读</h2><p>下载了 Maven，可以在 Maven 的配置文件 setting.xml 里面查看 Maven 仓库的各项配置，repository 是本地仓库的文件夹。</p><img src="'+c+`" alt="图片" style="zoom:67%;"><p>settings.xml 的内容如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/SETTINGS/1.0.0<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">&gt;</span></span>/\${user.home}/.m2/repository<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>interactiveMode</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>interactiveMode</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token comment">&lt;!--服务端的一些设置。一些设置如用户名密码不应该和项目的pom.xml放在一起。密码等认证信息应该存在于settings.xml文件中。 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--这是server的id（注意不是用户登陆的id），该id与distributionManagement中repository元素的id相匹配。 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>server001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--鉴权用户名--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>my_login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--鉴权密码--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>my_password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--鉴权时使用的私钥位置 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>privateKey</span><span class="token punctuation">&gt;</span></span>\${usr.home}/.ssh/id_dsa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>privateKey</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--鉴权时使用的私钥密码。 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>passphrase</span><span class="token punctuation">&gt;</span></span>some_passphrase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>passphrase</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servers</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 镜像的唯一标识符--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>aliyunmaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 被镜像的服务器的id。--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>阿里云公共仓库<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://maven.aliyun.com/repository/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
     <span class="token comment">&lt;!-- profile 的唯一标识 --&gt;</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
     <span class="token comment">&lt;!-- 让当前 profile 生效的条件（激活当前 profile） --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 默认激活状态为 false --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>
         <span class="token comment">&lt;!-- jdk 为 1.8 时激活 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdk</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdk</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">&gt;</span></span>
     <span class="token comment">&lt;!-- 远程仓库列表 --&gt;</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://maven.aliyun.com/nexus/content/groups/public/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeProfiles</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeProfile</span><span class="token punctuation">&gt;</span></span>aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeProfile</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeProfiles</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每一项的解释：</p><ul><li><p>localRepository ：我们从远程仓库拉取的 Maven 包在本地存放的仓库地址；</p></li><li><p>interactiveMode：表示 Maven 是否需要和用户交互以获得输入。在命令行用过 <code>mvn archetype:generate</code> 就知道这个参数的作用，会提示你输 入 groupId、artificialId，是否同意生成项目工程等。如果 Maven 需要和用户交互以获得输入，则设置成 true，反之则应为 false。默认为true。</p></li><li><p>servers ：有些仓库的访问需要用户名密码做身份认证，比如公司自己的仓库。一般 repositories 和 distributionManagement 都会在项目里面的 pom.xml 定义，但是用户名密码不适合直接明文放在项目的 pom 中，而且有的密码是每个人私有的，所以更适合在 maven settings.xml 里面配置；</p></li><li><p>mirrors：mirror 这个单词是镜像的意思，这里是配置远程仓库的镜像，前面提到过，中央仓库可能访问量比较大，访问比较慢，所以可以用镜像来缓存远程仓库的压力。</p><p>上面配置的 mirror 是国内阿里云对中央仓库的镜像，mirrorOf 的值是 central，代表是中央仓库的镜像；</p></li><li><p>profiles: 环境参数来调整构建配置的列表。</p><p>settings.xml 中的 profile 元素是 pom.xml 中 profile 元素的裁剪版本，它包含了5个部分：</p><ul><li><p>id ：profile的唯一标识</p></li><li><p>activation ：让当前 profile 生效的条件（激活当前profile）</p></li><li><p>repositories ：如果当前 profile 是激活状态，这里面定义的远程仓库列表就会作为当前 pom 的远程仓库，maven 就会用这组远程仓库来构建项目；这里可以看到用的是阿里云的远程仓库。</p></li><li><p>pluginRepositories ：插件的远程仓库列表；在 Maven 中有两种类型的仓库，一种是存储工件的仓库，另一种就是存储 plugin 插件的仓库。这里就可以指定plugin的仓库。</p></li><li><p>properties ：profile 生效之后，跟着生效的属性值，以键值对形式存放在 Maven 上下文, 这些值可以在 pom.xml 中的任何地方使用标记 <code>\${X}</code> 来使用。</p><p>例如：获取 Maven 上下文 properties 属性值有以下5种形式。</p><div class="language-XML line-numbers-mode" data-ext="XML"><pre class="language-XML"><code>&lt;!--
  1. env.X: 在一个变量前加上&quot;env.&quot;的前缀，会返回一个shell环境变量。例如,&quot;env.PATH&quot;指代了$path环境变量（在Windows上是%PATH%）。
  2. project.x：指代了POM中对应的元素值。例如: &lt;project&gt;&lt;version&gt;1.0&lt;/version&gt;&lt;/project&gt;通过\${project.version}获得version的值。
  3. settings.x: 指代了settings.xml中对应元素的值。例如：&lt;settings&gt;&lt;offline&gt;false&lt;/offline&gt;&lt;/settings&gt;通过 \${settings.offline}获得offline的值。
  4. Java System Properties: 所有可通过java.lang.System.getProperties()访问的属性都能在POM中使用该形式访问，例如 \${java.home}。
  5. x: 在&lt;properties/&gt;元素中，或者外部文件中设置，以\${someVar}的形式使用。
 --&gt;
&lt;properties&gt;
    &lt;user.install&gt;\${user.home}/our-project&lt;/user.install&gt;
&lt;/properties&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如上图所示，可以在 pom 中通过 <code>\${user.install}</code> 获取属性值。</p><p>在工程项目的maven 配置的时候经常会用到这个功能，在父 Maven 包的 pom 文件中管理所有的包版本，通过 <code>\${XX.version}</code> 引用版本值，这个后面会讲到。</p></li></ul></li><li><p>activeProfiles ：手动激活的 profile 列表。例如上面配置的就是激活 aliyun 的profile。</p></li></ul><p>注意，一般下载好 Maven 以后，这两步是都要做的：</p><ol><li><p>配置本地仓库：修改 conf/settings.xml 中的 &lt;localRepository&gt; 为一个本地的指定目录。</p></li><li><p>配置阿里云私服：修改 conf/settings.xml 中的 &lt;mirrors&gt; 标签，改为阿里云仓库。</p></li></ol><h2 id="jar-包的拉取流程" tabindex="-1"><a class="header-anchor" href="#jar-包的拉取流程" aria-hidden="true">#</a> jar 包的拉取流程</h2><p>如果按照上面 settings.xml 文件的配置，我们打包的时候 Maven 是如果查找包的呢?</p><p>maven 首先会 <strong>先从本地仓库</strong>，也就是你自己电脑上查找包，如果没有，会<strong>从激活的 profile 的仓库</strong>查询，如果还没有找到，才会<strong>去中央仓库</strong>，如果你配置了中央仓库的镜像（mirror），这个时候就会被拦截，直接从镜像的仓库查找包。这个就是maven自动拉取包的流程。</p><p><strong>小结：</strong></p><ul><li>仓库分为本地仓库和远程仓库，本地仓库相当于按需拉取的包缓存，远程仓库分为中央仓库（central）和私服，私服一般是公司、学校或者其他团体为了加速包访问搭建的局域网的访问仓库，另外有些比较大的 IT 厂商，例如阿里云会搭建中央仓库的镜像，我们如果配置了中央仓库的镜像，那访问中央仓库的请求都会被重定向到镜像仓库。</li><li>Maven 仓库的自定义在 settings.xml 文件（分为系统目录和用户目录，一般建议用用户目录的），profile 可以设置不同的激活条件，配置对应的仓库。</li></ul><p>下面介绍项目内的 Maven。</p><h2 id="标准化的项目结构" tabindex="-1"><a class="header-anchor" href="#标准化的项目结构" aria-hidden="true">#</a> 标准化的项目结构</h2><p>在没有 Maven 之前，不同的 IDE 创建的项目结构往往不一样，彼此之间并不通用，导致一个项目在其他的 IDE 里面很有可能无法顺利运行。</p><p>而 Maven 遵循了 <strong>约定大于配置</strong> 的原则，提供了一套标准化的项目结构，所有 IDE 使用 Maven 构建的项目结构完全一样，所有 IDE 创建的 Maven 项目可以彼此通用。</p><p>我们标准的工程结构如下所示：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>maven-project          //项目名称
├── src                //源代码和测试代码目录
│   ├── main           //源代码目录
│   │   ├── java       //项目的java源代码
│   │   └── resources  //项目的资源，比如说property文件，springmvc.xml
│   └── test           //测试代码目录
│       ├── java       //项目的测试类，比如说Junit代码
│       └── resources  //测试用的资源
├── target             //打包输出目录
│   ├── classes        //编译输出目录
│   └── test-classes   //测试编译输出目录
└── pom.xml            //存放pom.xml和所有的子目录
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="maven-pom" tabindex="-1"><a class="header-anchor" href="#maven-pom" aria-hidden="true">#</a> Maven POM</h2><p>POM（Project Object Model，项目对象模型）是 Maven 工程的基本工作单元，是一个 XML 文件，包含了项目的基本信息，用于描述项目如何构建，声明项目依赖等等。</p><p>在创建 POM 之前，我们首先需要描述项目组（groupId），项目的唯一ID。</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 模型版本 --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 公司或者组织的唯一标志，并且配置时生成的路径也是由此生成， 如com.angela.alpha.alpha-shoppingmall，maven会将该项目打成的jar包放本地路径：/com/angela/alpha/alpha-shoppingmall --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.angela.alpha<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 项目的唯一ID，一个groupId下面可能多个项目，就是靠artifactId来区分的 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>alpha-shoppingmall<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 版本号 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>所有 POM 文件都需要 project 元素和三个必需的字段：groupId，artifactId，version。这三个字段也被称为 Maven 中的 <strong>坐标</strong>，是资源的唯一标识，使用坐标可以方便定义项目或引入项目中需要的依赖。</p><table><thead><tr><th style="text-align:left;">节点</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">project</td><td style="text-align:left;">工程的根标签</td></tr><tr><td style="text-align:left;">modelVersion</td><td style="text-align:left;">模型版本需要设置为 4.0</td></tr><tr><td style="text-align:left;">groupId</td><td style="text-align:left;">工程组标识。<br>它在一个组织或者项目中通常是唯一的，用来定义当前 Maven 项目隶属组织的名称（通常是域名反写，例如：蚂蚁 sofa 工程的 groupId 是com.alipay.sofa）</td></tr><tr><td style="text-align:left;">artifactId</td><td style="text-align:left;">工程标识。定义当前 Maven 项目的名称（通常是模块名称，例如：蚂蚁 sofa 工程的 artifactId 是 sofaboot-dependencies），groupId 和 artifactId 一起定义了 artifact 在仓库中的位置。</td></tr><tr><td style="text-align:left;">version</td><td style="text-align:left;">工程的版本号。在 artifact 的仓库中，它用来区分不同的版本。<br>例如：<code>com.alipay.sofa: sofaboot-dependencies:1.0 com.alipay.sofa: sofaboot-dependencies:1.1</code></td></tr></tbody></table><h3 id="工程版本的管理" tabindex="-1"><a class="header-anchor" href="#工程版本的管理" aria-hidden="true">#</a> 工程版本的管理</h3><p><strong>SNAPSHOT（快照版本）</strong>：</p><ul><li>项目开发过程中，为方便团队成员合作，解决模块间相互依赖和时时更新的问题，开发者对每个模块进行构建的时候，输出的临时性版本叫快照版本（测试阶段版本）</li><li>快照版本会随着开发的进展不断更新</li></ul><p><strong>RELEASE（发布版本）</strong>：</p><ul><li>项目开发到进入阶段里程碑后，向团队外部发布较为稳定的版本，这种版本所对应的构件文件是稳定的</li><li>即便进行功能的后续开发，也不会改变当前发布版本内容，这种版本称为发布版本</li></ul><h3 id="工程版本号约定规范" tabindex="-1"><a class="header-anchor" href="#工程版本号约定规范" aria-hidden="true">#</a> 工程版本号约定规范</h3><p>【版本格式】&lt;主版本&gt;.&lt; 次版本&gt;.&lt;增量版本 &gt;.&lt;里程碑版本&gt;</p><ul><li><strong>主版本</strong>：表示项目重大架构的变更，如：spring5 相较于 spring4 的迭代</li><li><strong>次版本</strong>：表示有较大的功能增加和变化，或者全面系统地修复漏洞</li><li><strong>增量版本</strong>：表示有重大漏洞的修复</li><li><strong>里程碑版本</strong>：表明一个版本的里程碑（版本内部）。这样的版本同下一个正式版本相比，相对来说不是很稳定，有待更多的测试。</li></ul><p>【范例】：5.1.9.RELEAS E或 5.1.9-RELEASE</p><h3 id="发布版本" tabindex="-1"><a class="header-anchor" href="#发布版本" aria-hidden="true">#</a> 发布版本</h3><ul><li>alpha版</li><li>beta版</li><li>纯数字版</li></ul><h2 id="依赖管理" tabindex="-1"><a class="header-anchor" href="#依赖管理" aria-hidden="true">#</a> 依赖管理</h2><p>Maven 提供了一套依赖管理机制，依赖管理其实就是管理你项目所依赖的第三方资源（jar包、插件……）。</p><p>通俗的说，如果一个 Maven 构建所产生的构件（例如 Jar 文件）被其他项目引用，那么该构件就是其他项目的依赖</p><p>在没有 Maven 之前，我们引入第三方资源时，需要先上网查找并下载相应的 jar 包，再复制 jar 包到项目里，再将 jar 包添加到工作环境中。</p><p>这种情况下，一旦项目变得复杂，那么手动导入、管理 jar 包是一件非常繁琐的事情。</p><p>而 Maven 使用标准的 <strong>坐标</strong> 配置来管理各种依赖，只需要简单的配置就可以完成依赖管理，同时 Maven 的 **依赖传递 **机制能够帮助用户一定程度上简化 POM 的配置。</p><p>Maven 坐标是依赖的前提，所有 Maven 项目必须明确定义自己的坐标，只有这样，它们才可能成为其他项目的依赖。当一个项目的构件成为其他项目的依赖时，该项目的坐标才能体现出它的价值。</p><p>当 Maven 项目需要声明某一个依赖时，通常只需要在其 POM 中配置该依赖的坐标信息，Maven 会根据坐标自动将依赖下载到项目中。</p><p>例如，某个项目中使用 servlet-api 作为其依赖，其配置如下。</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>dependencies 元素可以包含一个或者多个 dependency 子元素，用以声明一个或者多个项目依赖，每个依赖都可以包含以下元素：</p><ul><li>groupId、artifactId 和 version：依赖的基本坐标，对于任何一个依赖来说，基本坐标是最重要的，Maven 根据坐标才能找到需要的依赖。</li><li>type：依赖的类型，对应于项目坐标定义的 packaging。大部分情况下，该元素不必声明，其默认值是 jar。</li><li>scope：依赖的范围。</li><li>optional：标记依赖是否可选。</li><li>exclusions：用来排除传递性依赖。</li></ul><blockquote><p>大部分依赖声明只包含 groupId、artifactId 和 version 三个元素，至于 scope、optional 以及 exclusions 等元素，了解即可。</p></blockquote><h2 id="依赖传递" tabindex="-1"><a class="header-anchor" href="#依赖传递" aria-hidden="true">#</a> 依赖传递</h2><p>如下图所示，项目 A 依赖于项目 B，B 又依赖于项目 C，此时 B 是 A 的 <strong>直接依赖</strong>，C 是 A 的 <strong>间接依赖</strong>。</p><p><img src="`+i+`" alt=""></p><p>Maven 的依赖传递机制是指：不管 Maven 项目存在多少间接依赖，POM 中都只需要定义其直接依赖，不必定义任何间接依赖，Maven 会动读取当前项目各个直接依赖的 POM，将那些必要的间接依赖以 <strong>传递性依赖</strong> 的形式引入到当前项目中。</p><p>基于 A、B、C 三者的依赖关系，根据 Maven 的依赖传递机制，我们只需要在项目 A 的 POM 中定义其直接依赖 B，在项目 B 的 POM 中定义其直接依赖 C，Maven 会解析 A 的直接依赖 B的 POM ，将间接依赖 C 以传递性依赖的形式引入到项目 A 中。</p><p>通过这种依赖传递关系，可以使依赖关系树迅速增长到一个很大的量级，很有可能会出现 <strong>依赖重复</strong>，<strong>依赖冲突</strong> 等情况，Maven 针对这些情况提供了如下功能进行处理。</p><ul><li>依赖范围（Dependency scope）</li><li>依赖调解（Dependency mediation）</li><li>可选依赖（Optional dependencies）</li><li>排除依赖（Excluded dependencies）</li><li>依赖管理（Dependency management）</li></ul><h3 id="依赖范围" tabindex="-1"><a class="header-anchor" href="#依赖范围" aria-hidden="true">#</a> 依赖范围</h3><p>首先，我们要知道 Maven 在对项目进行编译、测试和运行时，会分别使用三套不同的环境。Maven 项目构建时，在不同阶段引入到环境中的依赖是不同的。</p><ul><li>编译时，Maven 会将与编译相关的依赖引入到编译环境中</li><li>测试时，Maven 会将与测试相关的的依赖引入到测试环境中</li><li>运行时，Maven 会将与运行相关的依赖引入到运行环境中</li></ul><p>我们可以在 POM 的依赖声明使用 scope 元素来控制依赖与三种环境（编译环境、测试环境、运行环境）之间的关系，这就是依赖范围。</p><p>Maven 具有以下 6 中常见的依赖范围，如下表所示。</p><table><thead><tr><th>依赖范围</th><th>描述</th></tr></thead><tbody><tr><td>compile</td><td>编译依赖范围，scope 元素的缺省值。<br>使用此依赖范围的 Maven 依赖，对于三种环境均有效，即该 Maven 依赖在上述三种环境均会被引入。<br>例如，log4j 在编译、测试、运行过程都是必须的。</td></tr><tr><td>test</td><td>测试依赖范围。<br>使用此依赖范围的 Maven 依赖，只对测试环境有效。<br>例如，Junit 依赖只有在测试阶段才需要。</td></tr><tr><td>provided</td><td>已提供依赖范围。<br>使用此依赖范围的 Maven 依赖，只对编译环境和测试环境有效。<br>例如，servlet-api 依赖对于编译、测试阶段而言是需要的，但是运行阶段，由于外部容器已经提供，故不需要 Maven 重复引入该依赖。</td></tr><tr><td>runtime</td><td>运行时依赖范围。<br>使用此依赖范围的 Maven 依赖，只对测试huan&#39;j、运行环境有效。<br>例如，JDBC 驱动实现依赖，其在编译时只需 JDK 提供的 JDBC 接口即可，只有测试、运行阶段才需要实现了 JDBC 接口的驱动。</td></tr><tr><td>system</td><td>系统依赖范围，其效果与 provided 的依赖范围一致。<br>其用于添加非 Maven 仓库的本地依赖，通过依赖元素 dependency 中的 systemPath 元素指定本地依赖的路径。<br>鉴于使用其会导致项目的可移植性降低，一般不推荐使用。</td></tr><tr><td>import</td><td>导入依赖范围，该依赖范围只能与 dependencyManagement 元素配合使用。<br>其功能是将目标 pom.xml 文件中 dependencyManagement 的配置导入合并到当前 pom.xml 的 dependencyManagement 中。</td></tr></tbody></table><p>依赖范围与三种环境的关系一览表，如下所示：</p><table><thead><tr><th>依赖范围</th><th>编译环境</th><th>测试环境</th><th>运行环境</th><th>例子</th></tr></thead><tbody><tr><td>compile</td><td>√</td><td>√</td><td>√</td><td>log4j</td></tr><tr><td>test</td><td>-</td><td>√</td><td>-</td><td>junit</td></tr><tr><td>provided</td><td>√</td><td>√</td><td>-</td><td>servlet-api</td></tr><tr><td>runtime</td><td>-</td><td>√</td><td>√</td><td>JDBC-driver</td></tr><tr><td>system</td><td>√</td><td>√</td><td>-</td><td>非 Maven 仓库的本地依赖</td></tr></tbody></table><p>注意：不声明依赖范围的时候，默认范围为 compile。</p><h3 id="依赖范围对传递依赖的影响" tabindex="-1"><a class="header-anchor" href="#依赖范围对传递依赖的影响" aria-hidden="true">#</a> 依赖范围对传递依赖的影响</h3><p>项目 A 依赖于项目 B，B 又依赖于项目 C，此时我们可以将 A 对于 B 的依赖称之为第一直接依赖，B 对于 C 的依赖称之为第二直接依赖。</p><p>B 是 A 的直接依赖，C 是 A 的间接依赖，根据 Maven 的依赖传递机制，间接依赖 C 会以传递性依赖的形式引入到 A 中，但这种引入并不是无条件的，它会受到依赖范围的影响。</p><p>传递性依赖的依赖范围受第一直接依赖和第二直接依赖的范围影响，如下表所示。</p><table><thead><tr><th></th><th>compile</th><th>test</th><th>provided</th><th>runtime</th></tr></thead><tbody><tr><td>compile</td><td>compile</td><td>-</td><td>-</td><td>runtime</td></tr><tr><td>test</td><td>test</td><td>-</td><td>-</td><td>test</td></tr><tr><td>provided</td><td>provided</td><td>-</td><td>provided</td><td>provided</td></tr><tr><td>runtime</td><td>runtime</td><td>-</td><td>-</td><td>runtime</td></tr></tbody></table><p>注：上表中，左边第一列表示第一直接依赖的依赖范围，上边第一行表示第二直接依赖的依赖范围。交叉部分的单元格的取值为传递性依赖的依赖范围，若交叉单元格取值为“-”，则表示该传递性依赖不能被传递。</p><p>通过上表，可以总结出以下规律：</p><ul><li>当第二直接依赖的范围是 compile 时，传递性依赖的范围与第一直接依赖的范围一致；</li><li>当第二直接依赖的范围是 test 时，传递性依赖不会被传递；</li><li>当第二直接依赖的范围是 provided 时，只传递第一直接依赖的范围也为 provided 的依赖，且传递性依赖的范围也为 provided；</li><li>当第二直接依赖的范围是 runtime 时，传递性依赖的范围与第一直接依赖的范围一致，但 compile 例外，此时传递性依赖的范围为 runtime。</li></ul><h3 id="依赖调节" tabindex="-1"><a class="header-anchor" href="#依赖调节" aria-hidden="true">#</a> 依赖调节</h3><p>Maven 的依赖传递机制可以简化依赖的声明，用户只需要关心项目的直接依赖，而不必关心这些直接依赖会引入哪些间接依赖。但当一个间接依赖存在多条引入路径时，为了避免出现依赖重复的问题，Maven 通过依赖调节来确定间接依赖的引入路径。</p><p>依赖调节遵循以下两条原则：</p><ol><li>引入路径短者优先</li><li>先声明者优先</li></ol><p>以上两条原则，优先使用第一条原则解决，第一条原则无法解决，再使用第二条原则解决。</p><h4 id="引入路径短者优先" tabindex="-1"><a class="header-anchor" href="#引入路径短者优先" aria-hidden="true">#</a> 引入路径短者优先</h4><p>引入路径短者优先，顾名思义，当一个间接依赖存在多条引入路径时，引入路径短的会被解析使用。</p><p>例如，A 存在这样的依赖关系：</p><ul><li>A-&gt;B-&gt;C-&gt;D(1.0)</li><li>A-&gt;X-&gt;D(2.0)</li></ul><p>D 是 A 的间接依赖，但两条引入路径上有两个不同的版本，很显然不能同时引入，否则造成重复依赖的问题。根据 Maven 依赖调节的第一个原则：引入路径短者优先，D（1.0）的路径长度为 3，D（2.0）的路径长度为 2，因此间接依赖 D（2.0）将从 A-&gt;X-&gt;D(2.0) 路径引入到 A 中。</p><h4 id="先声明者优先" tabindex="-1"><a class="header-anchor" href="#先声明者优先" aria-hidden="true">#</a> 先声明者优先</h4><p>先声明者优先，顾名思义，在引入路径长度相同的前提下，POM 文件中依赖声明的顺序决定了间接依赖会不会被解析使用，顺序靠前的优先使用。</p><p>例如，A 存在以下依赖关系：</p><ul><li>A-&gt;B-&gt;D(1.0)</li><li>A-&gt;X-&gt;D(2.0)</li></ul><p>D 是 A 的间接依赖，其两条引入路径的长度都是 2，此时 Maven 依赖调节的第一原则已经无法解决，需要使用第二原则：先声明者优先。</p><p>A 的 POM 文件中配置如下。</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    ...      
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>       
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>X<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由以上配置可以看出，由于 B 的依赖声明比 X 靠前，所以间接依赖 D（1.0）将从 A-&gt;B-&gt;D(1.0) 路径引入到 A 中。</p><h2 id="排除依赖和可选依赖" tabindex="-1"><a class="header-anchor" href="#排除依赖和可选依赖" aria-hidden="true">#</a> 排除依赖和可选依赖</h2><p>假如 A 依赖于 B，B 依赖于 C，在不考虑依赖范围等因素的情况下，Maven 会根据依赖传递机制，将间接依赖 C 引入到 A 中。但如果 A 出于某种原因，希望将间接依赖 C 排除，那该怎么办呢？</p><p>Maven 为用户提供了两种解决方式：排除依赖（Dependency Exclusions）和可选依赖（Optional Dependencies）。</p><h3 id="排除依赖" tabindex="-1"><a class="header-anchor" href="#排除依赖" aria-hidden="true">#</a> 排除依赖</h3><p>假设存在这样的依赖关系，A 依赖于 B，B 依赖于 X，B 又依赖于 Y。B 实现了两个特性，其中一个特性依赖于 X，另一个特性依赖于 Y，且两个特性是互斥的关系，用户无法同时使用两个特性，所以 A 需要排除 X，此时就可以在 A 中将间接依赖 X 排除。</p><p>排除依赖是通过在 A 中使用 exclusions 元素实现的，该元素下可以包含若干个 exclusion 子元素，用于排除若干个间接依赖，示例代码如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.biancheng.www<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.biancheng.www<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- 设置排除 --&gt;</span>
                <span class="token comment">&lt;!-- 排除依赖必须基于直接依赖中的间接依赖设置为可以依赖为 false --&gt;</span>
                <span class="token comment">&lt;!-- 设置当前依赖中是否使用间接依赖 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
                    <span class="token comment">&lt;!--设置具体排除--&gt;</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.biancheng.www<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>X<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关于 exclusions 元素及排除依赖说明如下：</p><ul><li>排除依赖是控制当前项目是否使用其直接依赖传递下来的间接依赖；</li><li>exclusions 元素下可以包含若干个 exclusion 子元素，用于排除若干个间接依赖；</li><li>exclusion 元素用来设置具体排除的间接依赖，该元素包含两个子元素：groupId 和 artifactId，用来确定需要排除的间接依赖的坐标信息；</li><li>exclusion 元素中只需要设置 groupId 和 artifactId 就可以确定需要排除的依赖，无需指定版本 version。</li></ul><h3 id="可选依赖" tabindex="-1"><a class="header-anchor" href="#可选依赖" aria-hidden="true">#</a> 可选依赖</h3><p>与上文的应用场景相同，也是 A 希望排除间接依赖 X，我们还可以在 B 中将 X 设置为可选依赖。</p><h4 id="设置可选依赖" tabindex="-1"><a class="header-anchor" href="#设置可选依赖" aria-hidden="true">#</a> 设置可选依赖</h4><p>在 B 的 POM 关于 X 的依赖声明中使用 optional 元素，将其设置成可选依赖，示例配置如下。</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.biancheng.www<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.biancheng.www<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>X<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--设置可选依赖  --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关于 optional 元素及可选依赖说明如下：</p><ul><li>可选依赖用来控制当前依赖是否向下传递成为间接依赖；</li><li>optional 默认值为 false，表示可以向下传递称为间接依赖；</li><li><strong>若 optional 元素取值为 true，则表示当前依赖不能向下传递成为间接依赖。</strong></li></ul><h3 id="排除依赖-vs-可选依赖" tabindex="-1"><a class="header-anchor" href="#排除依赖-vs-可选依赖" aria-hidden="true">#</a> 排除依赖 VS 可选依赖</h3><p>排除依赖和可选依赖都能在项目中将间接依赖排除在外，但两者实现机制却完全不一样。</p><ul><li>排除依赖是控制当前项目是否使用其直接依赖传递下来的接间依赖；</li><li>可选依赖是控制当前项目的依赖是否向下传递；</li><li>可选依赖的优先级高于排除依赖；</li><li>若对于同一个间接依赖同时使用排除依赖和可选依赖进行设置，那么可选依赖的取值必须为 false，否则排除依赖无法生效。</li></ul><img src="`+u+'" style="zoom:50%;"><h2 id="构建生命周期" tabindex="-1"><a class="header-anchor" href="#构建生命周期" aria-hidden="true">#</a> 构建生命周期</h2><img src="'+d+'" alt="图片" style="zoom:50%;"><p>IDEA Maven Lifecycle的解读：</p><ul><li>clean（清理）：将编译得到的旧文件 class 字节码文件删除</li><li>compile（编译）：将 java 源程序编译成 class 字节码文件，编译 resource 资源文件</li><li>test（测试）：自动运行测试用例</li><li>report（报告）：测试程序执行的结果</li><li>package（打包）：动态Web工程打War包，java工程打jar包</li><li>install（安装）：将打包得到的文件复制到“仓库”中的指定位置，比如我们多模块构建的时候使用install 将包安装到本地仓库</li><li>deploy（部署）：将包部署到指定仓库，或者配置应用部署的运行目录</li></ul><p>这些 Lifecycle 实际都是通过插件的形式来完成的，其实 Maven 的大部分功能都是通过插件来完成的。</p>',135);function k(v,m){return a(),s("div",null,[t(" more "),g])}const b=n(r,[["render",k],["__file","Mavendejibenshiyong.html.vue"]]);export{b as default};
